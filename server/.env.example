# OSA Server Configuration - Secrets and Environment-Specific Values
# Copy this file to .env and fill in your values
#
# Relationship with osa.yaml:
# - .env: SECRETS (credentials, JWT secrets) - never commit to git
# - osa.yaml: APPLICATION CONFIG (sources, indexes) - can be version-controlled
#
# Priority (highest to lowest):
# 1. Environment variables
# 2. .env file
# 3. OSA_CONFIG_FILE (osa.yaml)
#
# Auth secrets MUST go in .env (not osa.yaml) for security

# =============================================================================
# ORCiD OAuth Configuration
# =============================================================================
# Register at: https://sandbox.orcid.org/developer-tools (sandbox)
# Register at: https://orcid.org/developer-tools (production)

# ORCiD OAuth client ID (e.g., APP-XXXXXXXXXXXX)
OSA_AUTH__ORCID__CLIENT_ID=

# ORCiD OAuth client secret
OSA_AUTH__ORCID__CLIENT_SECRET=

# Use ORCiD sandbox for development (default: true)
# Set to false for production
OSA_AUTH__ORCID__SANDBOX=true

# =============================================================================
# JWT Configuration
# =============================================================================

# JWT signing secret - minimum 32 characters required
# Generate with: openssl rand -hex 32
OSA_AUTH__JWT__SECRET=

# Access token expiry in minutes (default: 60)
# OSA_AUTH__JWT__ACCESS_TOKEN_EXPIRE_MINUTES=60

# Refresh token expiry in days (default: 7)
# OSA_AUTH__JWT__REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# OAuth Callback URL
# =============================================================================
# Must match the redirect URI registered in ORCiD developer tools

# For development (default derives from request URL)
# OSA_AUTH__CALLBACK_URL=http://localhost:8000/api/v1/auth/callback

# For production
# OSA_AUTH__CALLBACK_URL=https://your-domain.com/api/v1/auth/callback

# =============================================================================
# Frontend URL
# =============================================================================
# URL of the frontend application for OAuth redirects

# For development
OSA_FRONTEND__URL=http://localhost:3000

# For production
# OSA_FRONTEND__URL=https://your-domain.com

# =============================================================================
# Database Configuration
# =============================================================================
# Default: SQLite in ~/.local/share/osa/osa.db

# PostgreSQL example:
# OSA_DATABASE__URL=postgresql+asyncpg://user:password@localhost:5432/osa

# Echo SQL queries (for debugging)
# OSA_DATABASE__ECHO=false
